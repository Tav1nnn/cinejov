CREATE TABLE CLIENTE (
    ID INT NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY 
        (START WITH 1, INCREMENT BY 1),
    NOME VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    SENHA VARCHAR(50) NOT NULL
);

CREATE TABLE ADMINISTRADOR (
    ID INT NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY 
        (START WITH 1, INCREMENT BY 1),
    NOME VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL, 
    SENHA VARCHAR(50) NOT NULL
);

CREATE TABLE SALA (
    ID INT NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY 
        (START WITH 1, INCREMENT BY 1),
    NOME VARCHAR(50) NOT NULL
);

CREATE TABLE FILME (
    ID INT NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY 
        (START WITH 1, INCREMENT BY 1),
    NOME VARCHAR(50) NOT NULL,
    DESCRICAO VARCHAR(250) NOT NULL,
    DURACAO INT NOT NULL
);

CREATE TABLE SESSAO (
    ID INT NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY 
        (START WITH 1, INCREMENT BY 1),
    HORARIO CHAR(5),
    ID_FILME INT NOT NULL,
    ID_SALA INT NOT NULL,
    CONSTRAINT fk_Sessao_Filme_id FOREIGN KEY
    (ID_FILME) REFERENCES FILME(ID),
    CONSTRAINT fk_Sessao_Sala_id FOREIGN KEY
    (ID_SALA) REFERENCES SALA(ID)
);

CREATE TABLE INGRESSO (
    ID INT NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY 
        (START WITH 1, INCREMENT BY 1),
    LUGAR INT NOT NULL,
    ID_SESSAO INT NOT NULL,
    ID_CLIENTE INT NOT NULL,
    CONSTRAINT fk_Ingresso_Sessao_id FOREIGN KEY
    (ID_SESSAO) REFERENCES SESSAO(ID),
    CONSTRAINT fk_Ingresso_Cliente_id FOREIGN KEY
    (ID_CLIENTE) REFERENCES CLIENTE(ID)
);

INSERT INTO ADMINISTRADOR (NOME, EMAIL, SENHA) VALUES ('adm', 'adm@cinejov.com', 'cinejov');